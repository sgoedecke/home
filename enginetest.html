<html>
	<head>
	<style type="text/css">
		#console, h1, h3 {
			font-family: arial;
		}
	</style>
	</head>

	<body>
	<h1>Put the name of your game here!</h1>
		<div>
			<canvas id="canvas" width="300" height="200"></canvas>
			<!-- The size of the canvas determines the size of the game world. It has to be called "canvas" though. -->
		</div>
		<div>
			<span id="console"> </span>	
			<!-- This must be called "console". -->
		</div>

		<script src="boxEngine.js" type="text/javascript"></script>
		<script type="text/javascript">
		
		// some sample code for how to use the engine

			document.onkeydown = boxEngine.handleKeys; // for keyboard input
			document.onkeyup = boxEngine.clearKeys;

			// console messages
			function msgDeath() {
				boxEngine.msgPrint("You died! Final score: " + player.score);
			}

			function msgVictory() {
				boxEngine.msgPrint("You won!");
			}

			// creating enemies

			function placeRandomEnemy() {
				randint1 = Math.floor((Math.random()*10)+1); // generate random integer between 12 and 11
				randint2 = Math.floor((Math.random()*10)+1);

				var randenemy = new boxEngine.Enemy(canvas.width/randint1 + 20, canvas.height/randint2 + 20, 10,10);
				randenemy.takeTurn = boxEngine.roamAI; // set AI to the default roaming AI in boxEngine
			}

			function placeEnemies() {
				// place a grid of enemies
				var i=0;
				while (i < 10) {
					placeRandomEnemy();
					i++;
				}
			}

			// resetting the game

			function newGame() {
				player.x_pos = 20;
				player.y_pos = 20;
				current_input = "none";
				player.score = 0;
				placeEnemies();
				boxEngine.placeBorders(5); // borders have a width of 5

			}

			function loseGame(){
				msgDeath();
				endGame();
			}

			function endGame() {
				boxEngine.switchPaused(); //pause
				boxEngine.clearEnemies();
				newGame();
			}

			// main loop

			function mainLoop() {
				// increment score
				player.score++;
				// iterate through enemies
				var c;
				for (c in boxEngine.enemiesArray) {
					enemy = boxEngine.enemiesArray[c];
					// check for collisions
					if (boxEngine.hasCollided(player, enemy)) {
						loseGame();
						return;
					}
					// move enemies around
					enemy.takeTurn();
				}

				// handle keystrokes for 2d movement
				boxEngine.handleDefaultMovement(player);

				// draw game
				boxEngine.drawGame();
			}

			function runGame(){
				if (!boxEngine.isPaused) {
					mainLoop();
				}
			}

			// setup and running
			var player = new boxEngine.Player(20,20,10,10);  //x, y, width, height

			boxEngine.drawIntro(); // draw opening screen
			boxEngine.switchPaused(); // pause the game
			newGame(); // initialize variables, enemies, borders

			setInterval(runGame, boxEngine.GAME_SPEED); 
		</script>
	</body>
	</html>